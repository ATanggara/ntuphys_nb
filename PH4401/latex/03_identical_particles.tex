\documentclass[pra,12pt]{revtex4}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage{color}
\usepackage{mathrsfs}
\usepackage{enumerate}
\usepackage{epigraph}
\usepackage[pdfborder={0 0 0},colorlinks=true,linkcolor=blue,urlcolor=blue]{hyperref}

\def\ket#1{\left|#1\right\rangle}
\def\bra#1{\left\langle#1\right|}
\def\braket#1{\left\langle#1\right\rangle}

\setlength{\parindent}{0pt}

\renewcommand{\baselinestretch}{1.0}
\setlength{\parskip}{0.07in}
\setlength{\epigraphwidth}{.6\textwidth}

\begin{document}

\begin{center}
{\Large \textbf{Chapter 3: Identical Particles}}
\end{center}

\epigraph{These our actors,\\As I foretold you, were all spirits
  and\\Are melted into air, into thin air: \\And, like the baseless
  fabric of this vision,\\ The cloud-capp'd towers, the gorgeous
  palaces,\\ The solemn temples, the great globe itself,\\ Yea, all
  which it inherit, shall dissolve\\And, like this insubstantial
  pageant faded, \\ Leave not a rack behind.}{William Shakespeare,
  \textit{The Tempest}}


\section{Particle exchange symmetry}

In the previous chapter, we discussed how the principles of quantum
mechanics apply to systems of multiple particles.  That discussion
omitted an important feature of multi-particle systems, namely the
fact that particles of the same type are fundamentally
indistinguishable from each other.  As it turns out,
indistinguishability imposes a strong constraint on the form of the
multi-particle quantum states, and looking into this will ultimately
lead us to a fundamental re-interpretation of what ``particles'' are.

Suppose we have two particles of the same type, e.g.~two electrons.
It is a fact of Nature that all electrons have identical physical
properties: the same mass, same charge, same total spin, etc.  As a
consequence, the single-particle Hilbert spaces of the two electrons
must be mathematically identical.  Let us denote this space by
$\mathscr{H}^{(1)}$.  For a two-electron system, the Hilbert space is
a tensor product of two single-electron Hilbert spaces, denoted by
$$\mathscr{H}^{(2)} = \mathscr{H}^{(1)} \otimes \mathscr{H}^{(1)}.$$
Moreover, any Hamiltonian must affect the two electrons in a
symmetrical way.  An example of such a Hamiltonian is
$$\hat{H} = \frac{1}{2m_e} \Big(|\hat{\mathbf{p}}_1|^2 + |\hat{\mathbf{p}}_2|^2\Big) + \frac{e^2}{4\pi\varepsilon_0|\hat{\mathbf{r}}_1 - \hat{\mathbf{r}}_2|},$$
consisting of the non-relativistic kinetic energies and the Coulomb
potential energy.  Operators $\hat{\mathbf{p}}_1$ and
$\hat{\mathbf{r}}_1$ act on electron 1, while $\hat{\mathbf{p}}_2$ and
$\hat{\mathbf{r}}_2$ act on electron 2.

Evidently, this Hamiltonian is invariant under an interchange of the
operators acting on the two electrons (i.e., $\hat{\mathbf{p}}_1
\leftrightarrow \hat{\mathbf{p}}_2$ and $\hat{\mathbf{r}}_1
\leftrightarrow \hat{\mathbf{r}}_2$).  This can be regarded as a kind
of symmetry, called \textbf{exchange symmetry}.  As we know,
symmetries of quantum systems can be represented by unitary operators
that commute with the Hamiltonian.  Exchange symmetry is represented
by an operator $\hat{P}$, defined as follows: let $\{|\mu_i\rangle\}$
be a basis for the single-electron Hilbert space $\mathscr{H}^{(1)}$;
then $\hat{P}$ interchanges the basis vectors for the two electrons:
$$\begin{aligned}\hat{P} \Big (\sum_{ij} \psi_{ij} |\mu_i\rangle|\mu_j\rangle \Big)
\;&\equiv\;  \sum_{ij} \psi_{ij} |\mu_j\rangle|\mu_i\rangle \\&= \sum_{ij} \psi_{ji} |\mu_i\rangle|\mu_j\rangle \;\;\;\textrm{(interchanging $i\leftrightarrow j$ in the double sum)}\end{aligned}$$
The exchange operator has the following properties:
\begin{enumerate}
\item $\hat{P}^2 = \hat{I},$ where $\hat{I}$ is the identity operator.

\item $\hat{P}$ is linear, unitary, and Hermitian (see
  \hyperref[ex:1]{Exercise 1}).
  
\item The effect of $\hat{P}$ does not depend on the choice
  of basis (see \hyperref[ex:1]{Exercise 1}).

\item $\hat{P}$ commutes with the above Hamiltonian $\hat{H}$, or
  indeed any Hamiltonian where the single-particle operators appear in
  a symmetrical manner (see \hyperref[ex:2]{Exercise 2}).
\end{enumerate}

According to Noether's theorem, any symmetry implies a conservation
law.  In the case of exchange symmetry, $\hat{P}$ is both Hermitian
\textit{and} unitary, so we can take the conserved quantity to be the
eigenvalue of $\hat{P}$ itself.  We call this eigenvalue, $p$, the
\textbf{exchange parity}.  Given that $\hat{P}^2 = \hat{I}$, there are
just two possibilities:
$$\hat{P} |\psi\rangle = p|\psi\rangle \;\;\;\Rightarrow\;\;\; p = \begin{cases}+1 & \textrm{(``symmetric\;state'')}, \;\;\textrm{or} \\ -1 & \textrm{(``antisymmetric\;state'').}\end{cases}$$
Since $\hat{P}$ commutes with $\hat{H}$, if the system starts out in
an eigenstate of $\hat{P}$ with parity $p$, it retains the same
definite parity at subsequent times.

The concept of exchange parity generalizes to systems of more than two
particles.  Given $N$ particles, we can define a set of exchange
operators $\hat{P}_{ij}$, where $i,j\in\{1,2,\dots,N\}$ and $i\ne j$,
such that $\hat{P}_{ij}$ exchanges particle $i$ and particle $j$.  If
the particles are identical, the Hamiltonian must commute with
\textit{all} the exchange operators, so the parities ($\pm 1$) are
individually conserved.

We now invoke the following postulates:
\begin{enumerate}
\item A multi-particle state of identical particles is an eigenstate
  of every $\hat{P}_{ij}$.

\item For each $\hat{P}_{ij}$, the exchange parity $p_{ij}$ has the
  same value: i.e., all $+1$ or all $-1$.

\item The exchange parity $p_{ij}$ is determined solely by the type of
  particle involved.
\end{enumerate}
You should \textit{not} think of these as statements as being
``derived'' from more fundamental facts!  Rather, they are hypotheses
about the way particles behave---hypotheses that physicists have
managed to deduce by looking at a variety of empirical facts.  Our
task here is to explore the consequences of these hypotheses.

Particles that have symmetric states ($p_{ij} = +1$) are called
\textbf{bosons}.  It turns out that the elementary particles that
``carry'' the fundamental forces are all bosons: these are the photons
(elementary particles of light, which carry the electromagnetic
force), gluons (elementary particles that carry the strong nuclear
force, responsible for binding protons and neutrons together), and $W$
and $Z$ bosons (particles that carry the weak nuclear force
responsible for beta decay).  Other bosons include particles that
carry non-fundamental forces, such as phonons (particles of sound), as
well as certain composite particles such as alpha particles (helium-4
nuclei).

Particles that have antisymmetric states ($p_{ij} = -1$) are called
\textbf{fermions}.  All the elementary particles of ``matter'' are
fermions: electrons, muons, tauons, quarks, neutrinos, and their
anti-particles (positrons, anti-neutrinos, etc.).  Certain composite
particles are also fermions, the most notable being protons and
neutrons, which are each composed of three quarks.

\section{Bosons}

A state of $N$ bosons must be symmetric under every possible exchange
operator:
$$\hat{P}_{ij}\; |\psi\rangle = |\psi\rangle \;\;\; \forall\, i, j \in\{1,\dots,N\},\;\; i\ne j.$$

There is a standard way to construct multi-particle states obeying
this symmetry condition.  First, consider a two-boson system ($N =
2$).  If both bosons occupy the same single-particle state,
$|\varphi\rangle \in \mathscr{H}^{(1)}$, the two-boson state is simply
$$|\varphi,\varphi\rangle = |\varphi\rangle  |\varphi\rangle.$$
This evidently satisfies $\hat{P}_{12} |\varphi,\varphi\rangle =
|\varphi,\varphi\rangle$, as required.  Next, suppose the two bosons
occupy \textit{different} single-particle states, $|\varphi_1\rangle$
and $|\varphi_2\rangle$.  It would be wrong to write the two-boson
state as $|\varphi_1\rangle |\varphi_2\rangle$, because the particles
would not be symmetric under exchange.  Instead, we construct the
multi-particle state
$$|\varphi_1,\varphi_2\rangle = \frac{1}{\sqrt{2}} \Big( |\varphi_1\rangle  |\varphi_2\rangle + |\varphi_1\rangle  |\varphi_2\rangle\Big).$$
This has the appropriate exchange symmetry:
$$\hat{P}_{12}\,|\varphi_1,\varphi_2\rangle \;=\; \frac{1}{\sqrt{2}} \Big( |\varphi_2\rangle  |\varphi_1\rangle + |\varphi_1\rangle  |\varphi_2\rangle\Big) \;=\; |\varphi_1,\varphi_2\rangle.$$

This construction can be generalized to arbitrary $N$.  Suppose the
$N$ particles occupy single-particle states enumerated by
$$|\phi_1\rangle, \, |\phi_2\rangle, \, |\phi_3\rangle, \, \dots, |\phi_N\rangle.$$
Here, we use the symbol $\phi$, rather than $\varphi$, to indicate
that the states in this list need not be unique.  For example, we
could have $|\phi_1\rangle = |\phi_2\rangle = |\varphi_1\rangle$,
meaning there is a certain single-particle state $|\varphi_1\rangle$
occupied by two particles.

The $N$-boson state can now be written as
$$|\phi_1,\phi_2,\dots,\phi_N\rangle = \mathcal{N} \sum_p \Big(|\phi_{p(1)}\rangle  |\phi_{p(2)}\rangle  |\phi_{p(3)}\rangle  \cdots  |\phi_{p(N)}\rangle\Big).$$
The sum is taken over each of the $N!$ permutations acting on
$\{1,2,\dots,N\}$.  For each permutation $p$, we let $p(j)$ denote the
integer that $j$ is permuted into.  The prefactor $\mathcal{N}$ is a
normalization constant, and it can be shown that its appropriate value
is
$$\mathcal{N} = \sqrt{\frac{n_a!n_b!\cdots}{N!}},$$
where $n_\mu$ denotes the number of particles in state $\mu$, and $N =
n_\alpha + n_\beta + \cdots$ is the total number of particles.  The proof of
this is left as an exercise (\hyperref[ex:boson_norm]{Exercise 3}).

To see that the above $N$-particle state is symmetric under exchange,
apply an arbitrary exchange operator $\hat{P}_{ij}$:
$$\begin{aligned}\hat{P}_{ij}|\phi_1,\phi_2,\dots,\phi_N\rangle &= \mathcal{N} \sum_p \hat{P}_{ij} \Big(\cdots  |\phi_{p(i)}\rangle  \cdots  |\phi_{p(j)}\rangle\cdots\Big) \\&= \mathcal{N} \sum_p \Big(\cdots  |\phi_{p(j)}\rangle  \cdots  |\phi_{p(i)}\rangle\cdots\Big).\end{aligned}$$
In each term of the sum, two states $i$ and $j$ are interchanged.  But
since the sum runs through all permutations of the states, the result
is the same with or without the exchange, so we still end up with
$|\phi_1,\phi_2,\dots,\phi_N\rangle$.  Therefore, the multi-particle
state is symmetric under every possible exchange operation.

As an example, consider a three-boson system with two particles in
state $|\varphi_1\rangle$, and one particle in state
$|\varphi_2\rangle$.  To express the three-particle state, we define
$\{|\phi_1\rangle, |\phi_2\rangle, |\phi_3\rangle\}$ such that
$|\phi_1\rangle = |\phi_2\rangle = |\varphi_1\rangle$ and
$|\phi_3\rangle = |\varphi_2\rangle$.  Then
$$\begin{aligned}|\phi_1,\phi_2,\phi_3\rangle &= \mathcal{N} \Big( \;\;
|\phi_1\rangle|\phi_2\rangle|\phi_3\rangle +
|\phi_2\rangle|\phi_3\rangle|\phi_1\rangle +
|\phi_3\rangle|\phi_1\rangle|\phi_2\rangle \\ &\qquad\;\, +
|\phi_1\rangle|\phi_3\rangle|\phi_2\rangle +
|\phi_3\rangle|\phi_2\rangle|\phi_1\rangle +
|\phi_2\rangle|\phi_1\rangle|\phi_3\rangle\Big) \\
&= 2\mathcal{N} \Big(
|\varphi_1\rangle|\varphi_1\rangle|\varphi_2\rangle +
|\varphi_1\rangle|\varphi_2\rangle|\varphi_1\rangle +
|\varphi_2\rangle|\varphi_1\rangle|\varphi_1\rangle\Big).
\end{aligned}$$
The three distinct exchange symmetry operators have the following effects:
$$\begin{aligned}\hat{P}_{12}|\phi_1,\phi_2,\phi_3\rangle &= 2\mathcal{N} \Big(
|\varphi_1\rangle|\varphi_1\rangle|\varphi_2\rangle +
|\varphi_2\rangle|\varphi_1\rangle|\varphi_1\rangle +
|\varphi_1\rangle|\varphi_2\rangle|\varphi_1\rangle\Big) = |\phi_1,\phi_2,\phi_3\rangle \\
\hat{P}_{23}|\phi_1,\phi_2,\phi_3\rangle &= 2\mathcal{N} \Big(
|\varphi_1\rangle|\varphi_2\rangle|\varphi_1\rangle +
|\varphi_1\rangle|\varphi_1\rangle|\varphi_2\rangle +
|\varphi_2\rangle|\varphi_1\rangle|\varphi_1\rangle\Big) = |\phi_1,\phi_2,\phi_3\rangle\\
\hat{P}_{13}|\phi_1,\phi_2,\phi_3\rangle &= 2\mathcal{N} \Big(
|\varphi_2\rangle|\varphi_1\rangle|\varphi_1\rangle +
|\varphi_1\rangle|\varphi_2\rangle|\varphi_1\rangle +
|\varphi_1\rangle|\varphi_1\rangle|\varphi_2\rangle\Big) = |\phi_1,\phi_2,\phi_3\rangle.
\end{aligned}$$

\section{Fermions}

A state of $N$ fermions must be antisymmetric under every possible
exchange operator:
$$\hat{P}_{ij}\; |\psi\rangle = -|\psi\rangle \;\;\; \forall\, i,j\in\{1,\dots,N\}, \; i\ne j.$$
Similar to the bosonic case, we can explicitly construct multi-fermion
states based on the occupancy of single-particle states.  Let us
consider the $N=2$ case first.  If the fermions occupy states
$|\varphi_1\rangle$ and $|\varphi_2\rangle$, the appropriate two-particle
state is
$$|\varphi_1,\varphi_2\rangle = \frac{1}{\sqrt{2}} \Big(|\varphi_1\rangle|\varphi_2\rangle - |\varphi_2\rangle|\varphi_1\rangle\Big).$$
We can easily check that
$$\hat{P}_{12} |\varphi_1,\varphi_2\rangle = \frac{1}{\sqrt{2}} \Big(|\varphi_2\rangle|\varphi_1\rangle - |\varphi_1\rangle|\varphi_2\rangle\Big) = - |\varphi_1,\varphi_2\rangle.$$
This fails if we try to let $|\varphi_1\rangle$ and
$|\varphi_2\rangle$ be the same state: in that case, the two terms
cancel to give the zero vector, which is not a valid quantum state.
From this, we can deduce the \textbf{Pauli exclusion principle}, which
states that two fermions cannot occupy the same state; or,
equivalently, that each single-particle state is either unoccupied, or
occupied by exactly one fermion.

For general $N$, let us enumerate the occupied single-particle states
by $\{|\phi_1\rangle, |\phi_2\rangle,\dots,|\phi_N\rangle\}$.  Then
the appropriate $N$-fermion state is
$$|\phi_1,\dots,\phi_N\rangle = \frac{1}{\sqrt{N!}} \sum_p s(p)\, |\phi_{p(1)}\rangle |\phi_{p(2)}\rangle \cdots |\phi_{p(N)}\rangle.$$
The $1/\sqrt{N!}$ prefactor is a normalization constant (as you can
verify).  The expression involves a sum over every permutation $p$ of
the sequence $\{1,2,\dots,N\}$.  Each term in the sum has a
coefficient $s(p)$, denoting the \textbf{parity} of the permutation.
The parity of a permutation $p$ is defined as $+1$ if $p$ involves an
even number of exchanges starting from the sequence $\{1,2,\dots,N\}$,
and $-1$ if $p$ involves an odd number of exchanges.

A couple of examples are helpful for understanding these definitions.
First, consider $N=2$; the sequence $\{1,2\}$ has $2! = 2$ permutations:
$$\begin{aligned}p_1 : \{1,2\} &\rightarrow \{1,2\}, \;\;\;s(p_1) = +1 \\ p_2 : \{1,2\} &\rightarrow \{2,1\}, \;\;\;s(p_2) = -1.\end{aligned}$$
Next, consider $N=3$.  The sequence $\{1,2,3\}$ has $3!=6$ permutations:
$$\begin{aligned}
  p_1 : \{1,2,3\} &\rightarrow \{1,2,3\}, \;\;\;s(p_1) = +1 \\
  p_2 : \{1,2,3\} &\rightarrow \{2,1,3\}, \;\;\;s(p_2) = -1 \\
  p_3 : \{1,2,3\} &\rightarrow \{2,3,1\}, \;\;\;s(p_3) = +1 \\
  p_4 : \{1,2,3\} &\rightarrow \{3,2,1\}, \;\;\;s(p_4) = -1 \\
  p_5 : \{1,2,3\} &\rightarrow \{3,1,2\}, \;\;\;s(p_5) = +1 \\
  p_6 : \{1,2,3\} &\rightarrow \{1,3,2\}, \;\;\;s(p_6) = -1.\end{aligned}$$
The permutations can be generated by exchanging pairs of sequence
elements; each time we perform such an exchange, the sign of $s(p)$
is reversed.

We can now see why the above $N$-particle state describes fermions.
Let us apply $\hat{P}_{ij}$ to it:
$$\begin{aligned}\hat{P}_{ij}|\phi_1,\dots,\phi_N\rangle &= \frac{1}{\sqrt{N!}} \sum_p s(p)\, \hat{P}_{ij} \big[\cdots |\phi_{p(i)}\rangle \cdots |\phi_{p(j)}\rangle \cdots\big] \\&= \frac{1}{\sqrt{N!}} \sum_p s(p)\, \big[\cdots |\phi_{p(j)}\rangle \cdots |\phi_{p(i)}\rangle \cdots\big].\end{aligned}$$
Consider each term in the above sum.  Here, the single-particle state
for $p(i)$ and $p(j)$ have exchanged places.  The resulting term must
be a match for another one of the terms in
$|\phi_1,\dots,\phi_N\rangle$, because the sum runs over all possible
permutations---\textit{except} for one thing: the coefficient $s(p)$
must have an \textit{opposite} sign, since the two permutations are
related by an exchange.  It follows that
$\hat{P}_{ij}|\phi_1,\dots,\phi_N\rangle = -
|\phi_1,\dots,\phi_N\rangle$, as desired for fermions.

If the occupied single-particle states are non-unique, this
construction breaks down, as the terms in the sum over $p$ cancel out
pairwise.  This is again consistent with the Pauli exclusion
principle.

\section{Second quantization}

In the usual tensor product notation, it cumbersome to deal with
symmetric and antisymmetric states.  We will now introduce a more
convenient formalism, called \textbf{second quantization}.  (The
reason for the name ``second quantization'' will not be apparent until
later; it is a bad name, but one we are stuck with for historical
reasons.)

We start by defining a convenient way to specify states of multiple
identical particles, called the \textbf{occupation number
  representation}.  First, let us enumerate a set of single-particle
states, $\{|\varphi_1\rangle, |\varphi_2\rangle, |\varphi_3\rangle,
\cdots\}$, that form a complete orthonormal basis for the
single-particle Hilbert space $\mathscr{H}^{(1)}$.  Then, we build
multi-particle states by specifying how many particles are in state
$|\varphi_1\rangle$, denoted $n_1$; how many are in state
$|\varphi_2\rangle$, denoted $n_2$; and so on.  Thus,
$$|n_1,n_2,n_3,\dots\rangle$$
is a multi-particle state \textit{defined} as the appropriate
symmetric (for bosons) or antisymmetric (for fermions) tensor product
state.  The multi-particle state is indexed by the occupation numbers
$\{n_1,n_2,\cdots\}$, one integer for each single-particle state in
$\{|\varphi_1\rangle, |\varphi_2\rangle, |\varphi_3\rangle, \cdots\}$.

Let us run through a couple of examples.  First, consider
$|0,2,0,0,\dots\rangle$, a two-particle state with both particles in
state $|\varphi_2\rangle$.  (This only makes sense if the particles
are bosons, as fermions cannot share the same state.)  The symmetric
tensor product state is
$$|0,2,0,0,\dots\rangle \equiv |\varphi_2\rangle|\varphi_2\rangle.$$

As our second example, consider $|1,1,1,0,0,\dots\rangle$.  This
specifies a three-particle state where there is one particle each
occupying $|\varphi_1\rangle$, $|\varphi_2\rangle$, and
$|\varphi_3\rangle$.  If the particles are bosons, this corresponds to
the symmetric state
$$\begin{aligned}|1,1,1,0,0,\dots\rangle &\equiv \frac{1}{\sqrt{6}}\Big(|\varphi_1\rangle|\varphi_2\rangle|\varphi_3\rangle + |\varphi_3\rangle|\varphi_1\rangle|\varphi_2\rangle + |\varphi_2\rangle|\varphi_3\rangle|\varphi_1\rangle \\&\;\qquad+ |\varphi_1\rangle|\varphi_3\rangle|\varphi_2\rangle + |\varphi_2\rangle|\varphi_1\rangle|\varphi_3\rangle + |\varphi_3\rangle|\varphi_2\rangle|\varphi_1\rangle \Big).
\end{aligned}$$
And if the particles are fermions, the appropriate antisymmetric state
is
$$\begin{aligned}|1,1,1,0,0,\dots\rangle &\equiv \frac{1}{\sqrt{6}} \Big(|\varphi_1\rangle|\varphi_2\rangle|\varphi_3\rangle + |\varphi_3\rangle|\varphi_1\rangle|\varphi_2\rangle + |\varphi_2\rangle|\varphi_3\rangle|\varphi_1\rangle \\&\;\qquad - |\varphi_1\rangle|\varphi_3\rangle|\varphi_2\rangle - |\varphi_2\rangle|\varphi_1\rangle|\varphi_3\rangle - |\varphi_3\rangle|\varphi_2\rangle|\varphi_1\rangle\Big).
\end{aligned}$$

\subsection{Fock space}

At this point, we have to make a technical detour regarding what
Hilbert space the state vectors reside in.  The state
$|0,2,0,0,\dots\rangle$ is a bosonic two-particle state, which is a
vector in the two-particle Hilbert space $\mathscr{H}^{(2)} =
\mathscr{H}^{(1)}\otimes \mathscr{H}^{(1)}$.  However,
$\mathscr{H}^{(2)}$ also contains two-particle states that are not
symmetric under exchange, which is not allowed for bosons.  Thus, it
would be more rigorous for us to narrow the Hilbert space to the space
of state vectors that are symmetric under exchange.  We denote this
reduced space by $\mathscr{H}^{(2)}_S$.

Likewise, $|1,1,1,0,\dots\rangle$ is a three-particle state lying in
$\mathscr{H}^{(3)}$.  If the particles are bosons, we can narrow the
space to $\mathscr{H}^{(3)}_S$.  If the particles are fermions, we can
narrow it to the space of three-particle states that are antisymmetric
under exchange, denoted by $\mathscr{H}^{(3)}_A$.  Thus,
$|1,1,1,0,\dots\rangle \in \mathscr{H}^{(3)}_{S/A}$, where the
subscript $S/A$ depends on whether we are dealing with symmetric
states ($S$) or antisymmetric states ($A$).

We can make the occupation number representation more convenient to
work with by defining an ``extended'' Hilbert space, called the
\textbf{Fock space}, that is the space of bosonic/fermionic states
\textit{for arbitrary numbers of particles}.  In the formal language
of linear algebra, the Fock space can be written as
$$\mathscr{H}_{S/A}^F = \mathscr{H}^{(0)} \oplus \mathscr{H}^{(1)} \oplus \mathscr{H}^{(2)}_{S/A} \oplus \mathscr{H}^{(3)}_{S/A} \oplus \mathscr{H}^{(4)}_{S/A} \oplus \cdots$$
Here, $\oplus$ represents the \textbf{direct sum} operation, which
combines vector spaces by directly grouping their basis vectors into a
larger basis set; if $\mathscr{H}_1$ has dimension $d_1$ and
$\mathscr{H}_2$ has dimension $d_2$, then
$\mathscr{H}_1\oplus\mathscr{H}_2$ has dimension $d_1+d_2$.  (By
contrast, the space $\mathscr{H}_1\otimes\mathscr{H}_2$, defined via
the tensor product, has dimension $d_1d_2$.)  Once again, the
subscript $S/A$ depends on whether we are dealing with bosons ($S$) or
fermions ($A$).

The upshot is that any multi-particle state that we can write down in
the occupation number representation, $|n_1,n_2,n_3,\dots\rangle$, is
guaranteed to lie in the Fock space $\mathscr{H}^{F}_{S/A}$.
Moreover, these states form a complete basis set for
$\mathscr{H}^{F}_{S/A}$.

You may have noticed that the definition of the Fock space included
$\mathscr{H}^{(0)}$, the ``Hilbert space of 0 particles''.  This
Hilbert space contains only one distinct state vector, denoted by
$$|\varnothing\rangle \equiv |0,0,0,0,\dots\rangle.$$

This is called the \textbf{vacuum state}, and represents a state in
which there are literally no particles.  Note that
$|\varnothing\rangle$ is \textit{not} the same thing as a zero vector,
but instead satisfies the usual normalization for state vectors,
$\langle\varnothing|\varnothing\rangle = 1$.  The concept of a ``state
of no particles'' may seem silly, but we will see that there are very
good technical reasons for including it in the formalism.  (It will
also turn out to have an important physical meaning; see
Section~\ref{sec:qft}.)

Another subtle consequence of introducing the Fock space concept is
that it is now legitimate to write down quantum states that lack
definite particle numbers.  For example,
$$\frac{1}{\sqrt{2}} \Big(|1,0,0,0,0,\dots\rangle + |1,1,1,0,0,\dots\rangle\Big)$$
is a valid state vector in $\mathscr{H}^{F}_{S/A}$, consisting of the
superposition of a one-particle state and a three-particle state.
Such states are not mere curiosities.  For instance, in the next
chapter we will show that the optical mode of a laser beam can be
characterized by a quantum state with an indefinite number of photons.

\subsection{Second quantization for bosons}
\label{sec:second_quantized_bosons}

After this lengthy prelude, we are ready to introduce the formalism of
second quantization.  Let us concentrate on bosons first.  

We define an operator called the \textbf{particle creation operator},
denoted by $\hat{a}_\mu^\dagger$ and acting in the following way:
$$\hat{a}_\mu^\dagger \big|n_1, n_2, \dots, n_\mu, \dots\big\rangle = \sqrt{n_\mu+1} \; \big|n_1, n_2, \dots, n_\mu + 1, \dots\big\rangle. $$
In this definition, there is one particle creation operator for each
state in the single-particle basis
$\{|\varphi_1\rangle,|\varphi_2\rangle,\dots\}$.  Each creation operator is
defined as an operator acting on state vectors in the Fock space
$\mathscr{H}^F_S$, and has the effect of incrementing the occupation
number of its single-particle state by one.  The prefactor of
$\sqrt{n_\mu+1}$ is defined for later convenience.

In particular, applying a creation operator to the vacuum state yields
a single-particle state:
$$\begin{aligned}\hat{a}_\mu^\dagger |\varnothing\rangle \, &= \, |0,\dots,0, 1, 0, 0, \dots\rangle. \\[-1ex] &\qquad\qquad\quad\;\;\rotatebox[origin=c]{90}{$\Rsh$}\,\mu
\end{aligned}$$

The Hermitian conjugate of the creation operator, denoted by $\hat{a}_\mu$,
is called the \textbf{particle annihilation operator}.  To observe its
effects, let us first take the Hermitian conjugate of the equation
that defines $\hat{a}_\mu^\dagger$:
$$\big\langle n_1, n_2, \dots\big| \hat{a}_\mu = \sqrt{n_\mu+1} \; \big\langle n_1, n_2, \dots, n_\mu + 1, \dots\big|. $$
Right-multiplying by another occupation number state
$|n_1',n_2',\dots\rangle$ results in
$$\begin{aligned}\big\langle n_1, n_2, \dots \big| \hat{a}_\mu \big|n_1',n_2',\dots\big\rangle &= \sqrt{n_\mu+1} \; \big\langle \dots, n_\mu + 1, \dots\big| \dots, n_\mu',\dots\big\rangle \\&= \sqrt{n_\mu+1}\; \delta^{n_1}_{n_1'}\; \delta^{n_2}_{n_2'} \cdots \delta^{n_\mu+1}_{n_\mu'} \dots \\  &= \sqrt{n_\mu'}\; \delta^{n_1}_{n_1'}\; \delta^{n_2}_{n_2'} \cdots \delta^{n_\mu+1}_{n_\mu'}\cdots\end{aligned}$$
From this, we can deduce that
$$\hat{a}_\mu \big|n_1', n_2', \dots, n_\mu', \dots\big\rangle = \begin{cases} \sqrt{n_\mu'} \; \big|n_1', n_2', \dots, n_\mu' - 1, \dots\big\rangle, & \mathrm{if}\; n_\mu' > 0 \\ 0, & \mathrm{if}\; n_\mu' = 0.\end{cases} $$
In other words, the annihilation operator reduces the occupation
number of one of the single-particle states by one (hence its name).
As a special exception, if the given single-particle state is
unoccupied ($n_\mu = 0$), then applying $\hat{a}_\mu$ results in a zero
vector (note that this is \textit{not} the same thing as the vacuum
state $|\varnothing\rangle$).

The boson creation/annihilation operators obey the following
commutation relations:
$$\boxed{\quad\begin{aligned}\,[\hat{a}_\mu,\hat{a}_\nu] = [\hat{a}_\mu^\dagger,\hat{a}_\nu^\dagger] &= 0, \\ \,[\hat{a}_\mu,\hat{a}_\nu^\dagger] &= \delta_{\mu\nu}\end{aligned}\qquad\textrm{for all}\;\mu,\nu.\quad}$$
These can be derived by taking the matrix elements with respect to the
occupation number basis.  We will go through the derivation of the
last commutation relation; the others are left as an exercise
(\hyperref[ex:boson_commutators]{Exercise 4}).

To prove that $[\hat{a}_\mu,\hat{a}_\nu^\dagger] = \delta_{\mu\nu}$,
we first consider the case where the creation/annihilation operators
act on the same single-particle state:
$$\begin{aligned}\big\langle n_1, n_2, \dots \big| \hat{a}_\mu \hat{a}_\mu^\dagger \big| n_1', n_2'\dots\big\rangle &= \sqrt{(n_\mu+1)(n_\mu'+1)}\; \big\langle \dots, n_\mu+1, \dots \big| \dots, n_\mu'+1, \dots\big\rangle \\ &= \sqrt{(n_\mu+1)(n_\mu'+1)} \delta^{n_1}_{n_1'} \; \delta^{n_2}_{n_2'} \; \cdots \delta^{n_\mu+1}_{n_\mu'+1}\cdots \\ &= (n_\mu+1) \delta^{n_1}_{n_1'} \; \delta^{n_2}_{n_2'} \; \cdots \delta^{n_\mu}_{n_\mu'}\cdots \\ \big\langle n_1, n_2, \dots \big| \hat{a}_\mu^\dagger \hat{a}_\mu \big| n_1', n_2'\dots\big\rangle &= \sqrt{n_\mu n_\mu'}\; \big\langle \dots, n_\mu-1, \dots \big| \dots, n_\mu'-1, \dots\big\rangle \\&= \sqrt{n_\mu n_\mu'} \delta^{n_1}_{n_1'} \; \delta^{n_2}_{n_2'} \; \cdots \delta^{n_\mu-1}_{n_\mu'-1}\cdots \\ &= n_\mu \delta^{n_1}_{n_1'} \; \delta^{n_2}_{n_2'} \; \cdots \delta^{n_\mu}_{n_\mu'}\cdots \end{aligned}$$
In the second equation, we were a bit sloppy in handling the $n_\mu =
0$ and $n_\mu' = 0$ cases, but you can check for yourself that the
result on the last line remains correct.  Upon taking the
difference of the two equations, we get
$$\big\langle n_1, n_2, \dots \big| \left(\hat{a}_\mu \hat{a}_\mu^\dagger - \hat{a}_\mu^\dagger \hat{a}_\mu\right) \big| n_1', n_2'\dots\big\rangle = \delta^{n_1}_{n_1'} \; \delta^{n_2}_{n_2'} \; \cdots \delta^{n_\mu}_{n_\mu'}\cdots = \big\langle n_1, n_2, \dots \big| n_1', n_2'\dots\big\rangle.$$
Since the occupation number states form a basis set for
$\mathscr{H}^F_S$, we conclude that
$$\hat{a}_\mu \hat{a}_\mu^\dagger - \hat{a}_\mu^\dagger \hat{a}_\mu = \hat{I}.$$
Next, consider the case where $\mu \ne \nu$:
$$\begin{aligned}\big\langle n_1, \dots \big| \hat{a}_\mu \hat{a}_\nu^\dagger \big| n_1', \dots\big\rangle &= \sqrt{(n_\mu+1)(n_\nu'+1)}\, \langle \dots, n_\mu+1, \dots, n_\nu, \dots | \dots, n_\mu, \dots, n_\mu'+1, \dots\rangle \\ &= \sqrt{n_\mu' n_\nu} \;\, \delta^{n_1}_{n_1'} \; \cdots \delta^{n_\mu+1}_{n_\mu'} \cdots \delta^{n_\nu}_{n_\nu' + 1}\cdots \\ \big\langle n_1, \dots \big| \hat{a}_\nu^\dagger \hat{a}_\mu \big| n_1', \dots\big\rangle &= \sqrt{n_\mu' n_\nu}\, \langle \dots, n_\mu, \dots,n_\nu-1,\dots | \dots, n_\mu'-1, \dots, n_\nu'\dots\rangle \\&= \sqrt{n_\mu' n_\nu} \;\delta^{n_1}_{n_1'} \; \cdots \delta^{n_\mu}_{n_\mu'-1}\cdots \delta^{n_\nu-1}_{n_\nu'} \cdots \\ &= \sqrt{n_\mu' n_\nu} \; \delta^{n_1}_{n_1'} \; \cdots \delta^{n_\mu+1}_{n_\mu'}\cdots \delta^{n_\nu}_{n_\nu'+1} \cdots\end{aligned}$$
Hence,
$$\hat{a}_\mu \hat{a}_\nu^\dagger - \hat{a}_\nu^\dagger \hat{a}_\mu = 0 \;\;\;\mathrm{for}\;\;\mu\ne\nu.$$
Combining these two results gives the desired commutation relation,
$[\hat{a}_\mu, \hat{a}_\nu^\dagger] = \delta_{\mu\nu}$.  Another useful result which
emerges from the first part of the proof is that
$$\big\langle n_1, n_2, \dots \big| \hat{a}_\mu^\dagger \hat{a}_\mu \big| n_1', n_2'\dots\big\rangle = n_\mu \big\langle n_1, n_2, \dots \big| n_1', n_2'\dots\big\rangle.$$
Hence, we can define the Hermitian operator
$$\hat{n}_\mu \equiv \hat{a}_\mu^\dagger \hat{a}_\mu,$$
whose eigenvalue is the occupation number of single-particle state $\mu$.

If you are familiar with the method of creation/annihilation operators
for solving the quantum harmonic oscillator, you will have noticed the
striking similarity with the particle creation/annihilation operators
for bosons.  This is no mere coincidence.  We will examine the
relationship between harmonic oscillators and bosons in the next
chapter.

\subsection{Second quantization for fermions}
\label{sec:second_quantized_fermions}

For fermions, the multi-particle states are antisymmetric.  The
fermion creation operator can be defined as follows:
$$\begin{aligned}\hat{c}_\mu^\dagger |n_1, n_2, \dots, n_\mu,\dots\rangle &= \begin{cases}(-1)^{n_1 + n_2 + \cdots + n_{\mu-1}} |n_1, n_2, \dots, n_{\mu-1}, 1, \dots\rangle & \mathrm{if} \; n_\mu = 0 \\ \;\;0 & \mathrm{if}\; n_\mu = 1.
\end{cases} \\&= (-1)^{n_1 + n_2 + \cdots + n_{\mu-1}}\; \delta^{n_\mu}_0\, \big|n_1, n_2, \dots, n_{\mu-1}, 1, \dots\big\rangle. \end{aligned}$$
In other words, if state $\mu$ is unoccupied, then
$\hat{c}_\mu^\dagger$ increments the occupation number to 1, and
multiplies the state by an overall factor of $(-1)^{n_1 + n_2 + \cdots
  + n_{\mu-1}}$ (i.e, $+1$ if there is an even number of occupied
states preceding $\mu$, and $-1$ if there is an odd number).  The role
of this factor will be apparent later.  Note that this requires us to
order the single-particle states; otherwise, it would not make sense
to speak of the states ``preceding'' $\mu$.  It does not matter which
ordering we choose, so long as we make \textit{some} choice, and stick
to it consistently.

According to this definition, if $\mu$ is occupied, applying
$\hat{c}_\mu^\dagger$ gives the zero vector.  The occupation numbers
are therefore forbidden from being larger than 1.

The conjugate operator, $\hat{c}_\mu$, is the fermion annihilation
operator.  To see what it does, take the Hermitian conjugate of the
definition of the creation operator:
$$\langle n_1, n_2, \dots, n_\mu,\dots| \hat{c}_\mu  =
(-1)^{n_1 + n_2 + \cdots + n_{\mu-1}}\; \delta^{n_\mu}_0\, \big\langle n_1, n_2, \dots, n_{\mu-1}, 1, \dots\big|.$$
Right-multiplying this by $|n_1',n_2',\dots\rangle$ gives
$$\langle n_1, n_2, \dots, n_\mu,\dots| \hat{c}_\mu |n_1', n_2', \dots\rangle  = (-1)^{n_1 + \cdots + n_{\mu-1}} \;\delta^{n_1}_{n_1'} \cdots \;\delta^{n_{\mu-1}}_{n_{\mu-1}'} \left(\delta^{n_\mu}_0 \delta^1_{n_\mu'} \right) \delta^{n_{\mu+1}}_{n_{\mu+1}'} \dots$$
Hence, we can deduce that
$$\begin{aligned}\hat{c}_\mu |n_1', \dots, n_\mu',\dots\rangle &= \begin{cases} \;\;0 & \mathrm{if}\; n_\mu' = 0 \\ (-1)^{n_1' + \cdots + n_{\mu-1}'} |n_1', \dots, n_{\mu-1}', 0, \dots\rangle & \mathrm{if} \; n_\mu' = 1. \end{cases} \\ &= (-1)^{n_1' + \cdots + n_{\mu-1}'} \; \delta^1_{n_\mu'} \, \big|n_1', \dots, n_{\mu-1}', 0, \dots\big\rangle.\end{aligned}$$
In other words, if state $\mu$ is unoccupied, then applying
$\hat{c}_\mu$ gives the zero vector; if state $\mu$ is occupied,
applying $\hat{c}_\mu$ decrements the occupation number to $0$, and
multiplies the state by the aforementioned factor of $\pm 1$.

With these definitions, the fermion creation/annihilation operators
can be shown to obey the following \textit{anticommutation} relations:
$$\boxed{\quad\begin{aligned}\,\big\{\hat{c}_\mu,\hat{c}_\nu\big\} = \big\{\hat{c}_\mu^\dagger,\hat{c}_\nu^\dagger\big\} &= 0, \\ \,\big\{\hat{c}_\mu,\hat{c}_\nu^\dagger\big\} &= \delta_{\mu\nu}\end{aligned}\qquad\textrm{for all}\;\mu,\nu.\quad}$$
Here, $\{\cdot,\cdot\}$ denotes an anticommutator, which is defined as
follows:
$$\left\{\hat{A},\hat{B}\right\} \equiv \hat{A}\hat{B} + \hat{B}\hat{A}.$$

Similar to the bosonic commutation relations, these anticommutation
relations can be derived by taking matrix elements with occupation
number states.  We will only go over the last one,
$\big\{\hat{c}_\mu,\hat{c}_\nu^\dagger\big\} = \delta_{\mu\nu}$; the
other derivations follow similar lines.

Firstly, consider the case where the creation and annihilation
operators act on the same single-particle state $\mu$:
$$\begin{aligned}\big\langle \dots,n_\mu,\dots \big| \hat{c}_\mu \hat{c}_\mu^\dagger \big|\dots, n_\mu', \dots\big\rangle &= (-1)^{n_1+\cdots+n_{\mu-1}} (-1)^{n_1'+\cdots+n_{\mu-1}'} \,\delta^{n_\mu}_0 \delta^0_{n_\mu'} \\ &\quad\times \big\langle n_1,\dots,n_{\mu-1}, 1, \dots\big| n_1',\dots,n_{\mu-1}', 1, \dots \big\rangle \\ &= \delta^0_{n_\mu'} \; \cdot \; \delta^{n_1}_{n_1'} \, \delta^{n_2}_{n_2'} \cdots \delta^{n_\mu}_{n_\mu'} \cdots\end{aligned}$$
And by a similar calculation,
$$\big\langle \dots,n_\mu,\dots \big| \hat{c}_\mu^\dagger \hat{c}_\mu \big|\dots, n_\mu', \dots\big\rangle = \delta^1_{n_\mu'} \; \cdot \; \delta^{n_1}_{n_1'} \, \delta^{n_2}_{n_2'} \cdots \delta^{n_\mu}_{n_\mu'} \cdots$$
By adding these two equations, and using the fact that
$\delta^0_{n_\mu'} + \delta^1_{n_\mu'} = 1$, we get
$$\big\langle \dots,n_\mu,\dots \big| \left\{ \hat{c}_\mu, \hat{c}_\mu^\dagger\right\} \big|\dots, n_\mu', \dots\big\rangle = \big\langle \dots,n_\mu,\dots \big|\dots, n_\mu', \dots\big\rangle$$
And hence,
$$\left\{ \hat{c}_\mu, \hat{c}_\mu^\dagger\right\} = \hat{I}.$$

Next, we must prove that $\left\{ \hat{c}_\mu,
\hat{c}_\nu^\dagger\right\} = 0$ for $\mu \ne \nu$.  We will show this
for $\mu < \nu$ (the $\mu > \nu$ case follows by Hermitian
conjugation).  This is, once again, by taking matrix elements:
$$\begin{aligned}\big\langle \dots,n_\mu,\dots, n_\nu,\dots \big| \hat{c}_\mu \hat{c}_\nu^\dagger \big| & \dots, n_\mu', \dots, n_\nu',\dots\big\rangle = (-1)^{n_1+\cdots+n_{\mu-1}} (-1)^{n_1'+\cdots+n_{\nu-1}'} \,\delta^{n_\mu}_0 \delta^0_{n_\nu'} \\ &\qquad\qquad\qquad\qquad\qquad\times \big\langle \dots, 1, \dots, n_\nu,\dots\big| \dots,n_{\mu}', \dots,1, \dots \big\rangle \\ &\qquad\quad = (-1)^{n_\mu'+\cdots+n_{\nu-1}'}\, \delta^{n_1}_{n_1'} \, \delta^{n_2}_{n_2'} \cdots \left(\delta^{n_\mu}_0\delta^1_{n_\mu'}\right) \cdots \left(\delta^{n_\nu}_1 \delta^0_{n_\nu'}\right) \cdots \\
&\qquad\quad = (-1)^{1 + n_{\mu+1} + \cdots+n_{\nu-1}}\, \delta^{n_1}_{n_1'} \, \delta^{n_2}_{n_2'} \cdots \left(\delta^0_{n_\mu}\delta^1_{n_\mu'}\right) \cdots \left(\delta^0_{n_\nu'} \delta^1_{n_\nu}\right) \cdots \\
  \big\langle \dots,n_\mu,\dots, n_\nu,\dots \big| \hat{c}_\nu^\dagger \hat{c}_\mu \big| &\dots, n_\mu', \dots, n_\nu',\dots\big\rangle = (-1)^{n_1+\cdots+n_{\nu-1}} (-1)^{n_1'+\cdots+n_{\mu-1}'} \,\delta^{n_\nu}_1 \delta^1_{n_\mu'} \\ &\qquad\qquad\qquad\qquad\qquad\times \big\langle \dots, n_\mu, \dots, 0,\dots\big| \dots,0, \dots,n_\nu', \dots \big\rangle \\ &\qquad\quad= (-1)^{n_{\mu}+\cdots+n_{\nu-1}}\, \delta^{n_1}_{n_1'} \, \delta^{n_2}_{n_2'} \cdots \left(\delta^{n_\mu}_0\delta^1_{n_\mu'}\right) \cdots \left(\delta^{n_\nu}_1 \delta^0_{n_\nu'} \right) \cdots \\ &\qquad\quad= (-1)^{0 + n_{\mu+1}+\cdots+n_{\nu-1}}\, \delta^{n_1}_{n_1'} \, \delta^{n_2}_{n_2'} \cdots \left(\delta^{n_\mu}_0\delta^1_{n_\mu'}\right) \cdots \left(\delta^{n_\nu}_1\delta^0_{n_\nu'}\right) \cdots
\end{aligned}$$
The two equations differ by a factor of $-1$, so adding them gives
zero.  Putting everything together, we conclude that
$\big\{c_\mu,c_\nu^\dagger\big\} = \delta_{\mu\nu}$, as stated above.

As you can see, the derivation of the fermionic anticommutation
relations gets pretty hairy, in large part due to the
$(-1)^{(\cdots)}$ factors in the definitions of the creation and
annihilation operators.  But once these relations have been derived,
we can deal entirely with the creation and annihilation operators,
without worrying about the underlying occupation number representation
and its $(-1)^{(\cdots)}$ factors.  By the way, if we had chosen to
omit the $(-1)^{(\cdots)}$ factors in the definitions, the creation
and annihilation operators would still satisfy the
\textit{anticommutation} relation
$\{\hat{c}_\mu,\hat{c}_\nu^\dagger\}=\delta_{\mu\nu}$, but two
creation operators or two annihilation operators would
\textit{commute} rather than \textit{anticommute}.  During subsequent
calculations, the ``algebra'' of creation and annihilation operators
ends up being much harder to deal with.

\subsection{Second-quantized operators}
\label{sec:second_quant_op}

One of the key benefits of second quantization is that it allows us to
express multi-particle quantum operators clearly and succinctly, using
the creation and annihilation operators defined in
Sections~\ref{sec:second_quantized_bosons}--\ref{sec:second_quantized_fermions}
as ``building blocks''.

We start by considering a system of \textit{non-interacting}
particles.  When there is just one particle ($N=1$), let $\hat{H}_1$
denote the single-particle Hamiltonian, which is a Hermitian operator
acting on the single-particle Hilbert space $\mathscr{H}^{(1)}$.  For
general $N$, the multi-particle Hamiltonian $\hat{H}$ is a Hermitian
operator acting on the Fock space $\mathscr{H}^F$.  Given $\hat{H}_1$,
what is $\hat{H}$?

For bosons, the answer is:
$$\hat{H} = \sum_{\mu\nu} \hat{a}^\dagger_\mu H_{\mu\nu} \hat{a}_\nu, \;\;\; \mathrm{where}\;\; H_{\mu\nu} = \langle\varphi_\mu|\hat{H}_1|\varphi_\nu\rangle,$$
where $\hat{a}_\mu$ and $\hat{a}_\mu^\dagger$ are the boson creation
and annihilation operators defined in
Section~\ref{sec:second_quantized_bosons}.  For fermions, the
expression is exactly the same, but with the $\hat{a}_\mu$ and
$\hat{a}_\mu^\dagger$ operators replaced by the fermion creation and
annihilation operators, $\hat{c}_\mu$ and $\hat{c}_\mu^\dagger$,
defined in Section~\ref{sec:second_quantized_fermions}.  In the
remainder of this subsection, we will use the notation for bosonic
operators, but the results apply equally well to fermions.

To understand why this expression for $\hat{H}$ makes sense, consider
its matrix elements with respect to various states.  Firstly, for the
vacuum state $|\varnothing\rangle$,
$$\langle\varnothing|\hat{H}|\varnothing\rangle = 0.$$
This makes sense. Secondly, single-particle states can be written as
$|\varphi_\mu\rangle = \hat{a}^\dagger_\mu|\varnothing\rangle$, so
$$\begin{aligned}\langle\varphi_\mu|\hat{H}|\varphi_\nu\rangle &= \langle\varnothing|a_\mu \Big(\sum_{\mu'\nu'} \hat{a}^\dagger_{\mu'} H_{\mu'\nu'} \hat{a}_{\nu'}\Big) a_\nu^\dagger |\varnothing\rangle \\ &= \sum_{\mu'\nu'} H_{\mu'\nu'} \, \langle\varnothing|a_\mu \hat{a}^\dagger_{\mu'}  \hat{a}_{\nu'} a_\nu^\dagger |\varnothing\rangle \\ &= \sum_{\mu'\nu'} H_{\mu'\nu'} \, \delta^{\mu}_{\mu'} \delta^{\nu}_{\nu'} \\&= H_{\mu\nu}.\end{aligned}$$
This exactly matches the definition of $H_{\mu\nu}$ in the original
expression for $\hat{H}$.

Thirdly, consider the case where
$\{|\varphi_1\rangle,|\varphi_2\rangle,\dots\}$ forms an eigenbasis of
$\hat{H}_1$.  Then,
$$\hat{H}_1|\varphi_\mu\rangle = E_\mu |\varphi_\mu\rangle \;\;\;\Rightarrow\;\;\; H_{\mu\nu} = E_\mu\,\delta_{\mu\nu}. \;\;\;\Rightarrow \;\; \hat{H} = \sum_{\mu} E_\mu \,\hat{n}_\mu.$$
As previously noted, $\hat{n}_\mu = \hat{a}^\dagger_\mu \hat{a}_\mu$
is the number operator, a Hermitian operator which corresponds to the
occupation number of single-particle state $\mu$.  Therefore, the
total energy is the sum of the single-particle energies, which is
exactly what we expect for a system of non-interacting particles.

Another way to interpret $\hat{H}$ is to think of the Hamiltonian as
the generator of time evolution.  Then $\hat{H} = \sum_{\mu\nu}
\hat{a}^\dagger_\mu H_{\mu\nu} \hat{a}_\nu$ says that each
infinitesimal time step consists of a superposition of alternative
evolution processes.  Each term in the superposition,
$\hat{a}^\dagger_\mu H_{\mu\nu} \hat{a}_\nu$, describes a particle
being annihilated in state $\nu$, and immediately re-created in state
$\mu$, which is equivalent to ``transferring'' a particle from $\nu$
to $\mu$.  The quantum amplitude for this process is described by the
matrix element $H_{\mu\nu}$.  This description of time evolution is
applicable not just to single-particle states, but also to
multi-particle states containing any number of particles.

Note also that the number of particles does not change during time
evolution.  Whenever a particle is annihilated in a state $\nu$, it is
immediately re-created in some state $\mu$.  This implies that the
Hamiltonian commutes with the total particle number operator:
$$[\hat{H}, \hat{N}] = 0, \;\;\;\mathrm{where}\;\;\hat{N} \equiv \sum_\mu \hat{a}_\mu^\dagger a_\mu.$$
The formal proof for this is left as an exercise (see
\hyperref[ex:n_conserved]{Exercise 5}).  It follows from the creation
and annihilation operators' commutation relations (for bosons) or
anticommuattion relations (for fermions).

Apart from the total energy, other kinds of observables---such as the
total momentum, total angular momentum, etc.---can be expressed in a
similar way.  Let $\hat{A}_1$ be a Hermitian operator acting on
single-particle states, corresponding to some physical observable $A$.
Then, for a multi-particle system, the operator corresponding to the
``total $A$'' is
$$\hat{A} = \sum_{\mu\nu} \hat{a}^\dagger_\mu A_{\mu\nu} \hat{a}_\nu, \;\;\; \mathrm{where}\;\; A_{\mu\nu} = \langle\varphi_\mu|\hat{A}_1|\varphi_\nu\rangle.$$

Hermitian operators can also be constructed out of other kinds of
groupings of creation and annihilation operators.  For example, a
pairwise (two-particle) potential can be described with a
superposition of creation and annihilation operator pairs, of the form
$$\hat{V} = \sum_{\mu\nu\lambda\sigma} \hat{a}^\dagger_\mu \hat{a}^\dagger_\nu \, V_{\mu\nu;\lambda\sigma}\, \hat{a}_\lambda \hat{a}_\sigma.$$
We can ensure that $\hat{V}$ is Hermitian by imposing a
constraint on the coefficents:
$$\hat{V}^\dagger = \sum_{\mu\nu\lambda\sigma} \hat{a}^\dagger_\sigma \hat{a}^\dagger_\lambda \, V_{\mu\nu;\lambda\sigma}^* \, \hat{a}_\nu \hat{a}_\mu = \hat{V} \;\;\Leftarrow \;\; V_{\sigma\lambda;\nu\mu}^* = V_{\mu\nu;\lambda\sigma}.$$
In the next section, we will show how to determine the
$V_{\mu\nu;\lambda\sigma}$ coefficients for any given two-particle
interaction, such as the electrostatic potential function.  The
$\hat{V}$ operator can then be added to a Hamiltonian to describe a
system of interacting particles.  In terms of time evolution, the
$\hat{V}$ operator ``transfers'' (annihilates and then re-creates) a
\textit{pair} of particles during each infinitesimal time step.  Since
the number of annihilated particles is always equal to the number of
created particles, the interaction conserves the total particle
number.

Another way to construct a Hermitian operator from creation and
annihilation operators is
$$\hat{A} = \sum_\mu \left(\alpha_\mu \hat{a}_\mu^\dagger + \alpha^*_\mu \hat{a}_\mu\right).$$
If such a term is added to a Hamiltonian, it breaks the conservation
of total particle number.  Each infinitesimal time step will contain a
superposition of processes that decrease the particle number (due to
$\hat{a}_\mu$), and processes that increase the particle number (due
to $\hat{a}_\mu^\dagger$).  Even if we start out with a state with a
fixed number of particles, such as the vacuum state
$|\varnothing\rangle$, the system subsequently evolves into a
superposition of states of different particle numbers.  In the
theory of quantum electrodynamics, this type of operator is used to
describe the emission and absorption of photons caused by moving
charges.

Incidentally, the name ``second quantization'' comes from this process
of using creation and annihilation operators to define Hamiltonians.
The idea is that single-particle quantum mechanics is derived by
``quantizing'' classical Hamiltonians, via the imposition of
commutation relations like $[x,p] = i\hbar$.  Then, to extend the
theory to multi-particle systems, we use the single-particle states to
define creation/annihilation operators obeying a set of commutation or
anticommutation relations.  This can be viewed as a ``second''
quantization step.

\section{Quantum field theory}
\label{sec:qft}

So far, we have been agnostic about the nature of the single-particle
states $\{|\varphi_1\rangle,|\varphi_2\rangle,\dots\}$ used to
construct the creation and annihilation operators.  Let us now
consider the special case where these quantum states are representable
by wavefunctions.  Let $|\mathbf{r}\rangle$ denote a position
eigenstate for a $d$-dimensional space.  A single-particle state
$|\varphi_\mu\rangle$ has a wavefunction
$$\varphi_\mu(\mathbf{r}) = \langle\mathbf{r}|\varphi_\mu\rangle.$$
Due to the completeness and orthonormality of the basis, these
wavefunctions satisfy
$$\begin{aligned}\int d^dr \; \varphi_\mu^*(\mathbf{r})\, \varphi_\nu(\mathbf{r}) &= \langle\varphi_\mu| \left(\int d^dr\, |\mathbf{r}\rangle\langle\mathbf{r}|\right) |\varphi_\nu\rangle \,= \delta_{\mu\nu}, \\\sum_\mu \varphi_\mu^*(\mathbf{r}) \varphi_\mu(\mathbf{r}') &=\, \langle \mathbf{r}'| \left(\sum_\mu |\varphi_\mu\rangle\langle\varphi_\mu|\right)|\mathbf{r}\rangle \;\;=\, \delta^d(\mathbf{r}-\mathbf{r}').\end{aligned}$$

We can use the wavefunctions and the creation/annihilation operators
to construct a new and interesting set of operators.  For simplicity,
suppose the particles are bosons, and let
$$\hat{\psi}(\mathbf{r}) = \sum_\mu \varphi_\mu(\mathbf{r}) \, \hat{a}_\mu, \quad\;\; \hat{\psi}^\dagger(\mathbf{r}) = \sum_\mu \varphi_\mu^*(\mathbf{r}) \, \hat{a}_\mu^\dagger.$$
Using the aforementioned wavefunction properties, we can derive the
inverse relations
$$\hat{a}_\mu = \int d^dr \; \varphi_\mu^*(\mathbf{r}) \, \hat{\psi}(\mathbf{r}), \quad\;\; \hat{a}_\mu^\dagger = \int d^dr \; \varphi_\mu(\mathbf{r}) \, \hat{\psi}^\dagger(\mathbf{r}).$$
From the commutation relations for the bosonic $a_\mu$ and
$a_\mu^\dagger$ operators, we can show that
$$\left[\hat{\psi}(\mathbf{r}), \hat{\psi}(\mathbf{r}')\right] = \left[\hat{\psi}^\dagger(\mathbf{r}), \hat{\psi}^\dagger(\mathbf{r}')\right] = 0, \quad \left[\hat{\psi}(\mathbf{r}), \hat{\psi}^\dagger(\mathbf{r}')\right] = \delta^d(\mathbf{r}-\mathbf{r}').$$
In the original commutation relations, the operators for different
single-particle states commute; now, the operators for different
\textit{positions} commute.  A straightforward interpretion for the
operators $\hat{\psi}^\dagger(\mathbf{r})$ and
$\hat{\psi}(\mathbf{r})$ is that they respectively create and
annihilate one particle at a given point $\mathbf{r}$.  (By contrast,
the old creation/annihilation operators create/annihilate a particle
not at a point, but in a given eigenstate.)

It is important to note that $\mathbf{r}$ here does not play the role
of an observable; it is an index, in the sense that each distinct
$\mathbf{r}$ is associated with one pair of $\hat{\psi}(\mathbf{r})$
and $\hat{\psi}^\dagger(\mathbf{r})$ operators.  These
$\mathbf{r}$-dependent operators serve to generalize the classical
concept of a \textbf{field}.  In a classical field theory, each point
$\mathbf{r}$ is assigned a set of numbers corresponding to physical
quantities, such as the electric field components $E_x(\mathbf{r})$,
$E_y(\mathbf{r})$, and $E_z(\mathbf{r})$.  In the present case, each
$\mathbf{r}$ is assigned a set of quantum operators.  This is called a
\textbf{quantum field theory}.

We can use the $\hat{\psi}(\mathbf{r})$ and
$\hat{\psi}^\dagger(\mathbf{r})$ operators to write second quantized
observables in a way that is independent of the choice of
single-particle basis wavefunctions.  As discussed in the
\hyperref[sec:second_quant_op]{previous section}, for each Hermitian
single-particle operator $\hat{A}_1$ we can define a many-particle
observable $\hat{A} = \sum_{\mu\nu} \hat{a}^\dagger_\mu A_{\mu\nu}
\hat{a}_\nu$, where $A_{\mu\nu} =
\langle\varphi_\mu|\hat{A}_1|\varphi_\nu\rangle$.  We can now show
that
$$\hat{A} = \int d^dr \,d^dr' \;\hat{\psi}^\dagger(\mathbf{r}) \;\langle \mathbf{r}|\hat{A}_1|\mathbf{r}'\rangle \; \hat{\psi}(\mathbf{r}').$$
For example, the Hamiltonian for a single particle in a potential
$V(\mathbf{r})$ is
$$\hat{H}_1 = \hat{T}_1 + \hat{V}_1, \;\;\; \hat{T}_1 = \frac{|\hat{\mathbf{p}}|^2}{2m}, \;\;\; \hat{V}_1 = V(\hat{\mathbf{r}}),$$
where $\hat{\mathbf{r}}$ and $\hat{\mathbf{p}}$ are position and
momentum operators (single-particle observables).  The corresponding
second quantized operators for the kinetic energy and potential energy
are
$$\begin{aligned}\hat{T} &= \frac{\hbar^2}{2m} \int d^dr\; d^dr'\; \hat{\psi}^\dagger(\mathbf{r}) \left(\int\frac{d^dk}{(2\pi)^d} \; |\mathbf{k}|^2 \; e^{i\mathbf{k}\cdot(\mathbf{r}-\mathbf{r}')}\right) \; \hat{\psi}(\mathbf{r}') \\ &= \frac{\hbar^2}{2m} \int d^d r\; \nabla \hat{\psi}^\dagger (\mathbf{r}) \, \cdot \, \nabla \hat{\psi}(\mathbf{r}) \\ \hat{V} &= \int d^dr \;\hat{\psi}^\dagger(\mathbf{r}) \;V(\mathbf{r}) \; \hat{\psi}(\mathbf{r}).\end{aligned}$$
(In going from the first to the second line, we performed integrations
by parts.)  This result is strongly reminiscent of the expression for
the expected kinetic and potential energies in single-particle quantum
mechanics:
$$\langle T\rangle = \frac{\hbar^2}{2m} \int d^d r \left|\nabla\psi(\mathbf{r})\right|^2, \;\;\; \langle V\rangle = \int d^dr \; V(\mathbf{r}) \; |\psi(\mathbf{r})|^2,$$
where $\psi(\mathbf{r})$ is the single-particle wavefunction.

How are the particle creation and annihilation operators related to
the classical notion of ``the value of a field at point
$\mathbf{r}$''?  As we know, observable quantities correspond to
Hermitian operators, whereas $\hat{\psi}(\mathbf{r})$ and
$\hat{\psi}^\dagger(\mathbf{r})$ are not Hermitian.  One way to
construct a Hermitian operator from them is the product
$\hat{\psi}^\dagger(\mathbf{r})\hat{\psi}(\mathbf{r})$, an observable
corresponding to the local particle density.  Another (possibly less
obvious) type of observable is obtained by taking \textit{linear
  superpositions} of creation and annihilation operator.  For example,
$$\psi(\mathbf{r}) + \psi(\mathbf{r})^\dagger$$
is necessarily Hermitian.  More generally, we can consider operators
of the form
$$F(\mathbf{r}) = \int d^dr' \Big(f(\mathbf{r},\mathbf{r}') \hat{\psi}(\mathbf{r}) + f^*(\mathbf{r},\mathbf{r}') \hat{\psi}^\dagger(\mathbf{r}') \Big),$$
where $f(\mathbf{r},\mathbf{r}')$ is some complex function.  This type
of Hermitian operator, called a \textbf{field operator}, corresponds
to the observable value of a field at a given point $\mathbf{r}$.

The situation is closely analogous to the quantum harmonic oscillator.
There, the creation and annihilation operators are non-Hermitian
operators satisfying $[\hat{a},\hat{a}^\dagger]$.  The product
$\hat{a}^\dagger\hat{a}$ is Hermitian, and corresponds to the number
of oscillator quanta excited.  We can also take linear combinations of
the creation and annihilation operators,
$$\hat{x} = \sqrt{\frac{\hbar}{2m\omega_0}} \, \left(\hat{a}+\hat{a}^\dagger\right), \;\;\;\hat{p} = -i \sqrt{\frac{m\omega_0\hbar}{2}} \, \left(\hat{a}-\hat{a}^\dagger\right),$$
which are Hermitian operators obeying the canonical commutation
relation $[\hat{x},\hat{p}] = i\hbar$.  These correspond, of course,
to the position and momentum coordinates of the underlying oscillator
(with $m$ and $\omega_0$ denoting the oscillator's mass and natural
frequency).

In the next chapter, we will use these ideas to formulate a quantum
theory of electromagnetism.  The theory contains particles called
\textbf{photons}, elementary particles of light that can be generated
and destroyed by creation and annihilation operators.  We will define
Hermitian field operators that correspond to the components of the
electromagnetic field at each point of space.

It is hard to overstate the importance of quantum field theories in
fundamental physics.  All elementary particles known to humanity can
be accurately described using a quantum field theory known as the
Standard Model.  As \hyperref[cite:wilczek]{Wilczek (1999)} has
pointed out, the modern picture of fundamental physics bears a
striking resemblence to the old idea of ``luminiferous ether'': a
medium filling all of space (and time), whose vibrations are light
waves.  We now understand that the ether is not a classical medium,
but one obeying the rules of quantum mechanics---a \textbf{quantum
  field}.  (It's also compatible with relativity, unlike the old
luminiferous ether theory.)  The vacuum state $|\varnothing\rangle$ is
not merely a mathematical trick, but describes the ground state of the
field itself.  Moreover, there is not just one quantum field but
several interacting fields, whose various excitations give rise not
only to light (photons), but also the particles that make up matter
(e.g.,~quarks and electrons), and other force-carrying particles like
gluons.  It is therefore quite natural to regard the quantum fields,
not particles, as the fundamental objects.  In this view, the fact
that all elementary particles of the same species have identical
physical properties, and are indistinguishable from each other, seems
quite straightforward: each particle is not really a distinct entity,
but an excitation of something more fundamental---a quantum field.

\section*{Exercises}

\begin{enumerate}
\item Consider a system of two identical particles.  Each
  single-particle Hilbert space $\mathscr{H}^{(1)}$ is spanned by a
  basis $\{|\mu_i\}$.  The exchange operator is defined on
  $\mathscr{H}^{(2)} = \mathscr{H}^{(1)} \otimes \mathscr{H}^{(1)}$ by
$$P \Big (\sum_{ij} \psi_{ij} |\mu_i\rangle|\mu_j\rangle \Big)
  \;\equiv\;  \sum_{ij} \psi_{ij} |\mu_j\rangle|\mu_i\rangle.$$
  Prove that $\hat{P}$ is linear, unitary, and Hermitian.  Moreover,
  prove that the operation is basis-independent: i.e., given any other
  basis $\{\nu_j\}$ that spans $\mathscr{H}^{(1)}$,
$$P \Big (\sum_{ij} \varphi_{ij} |\nu_i\rangle|\nu_j\rangle \Big)
  \;=\;  \sum_{ij} \varphi_{ij} |\nu_j\rangle|\nu_i\rangle.$$
  \label{ex:1}

\item
  Prove that the exchange operator commutes with the Hamiltonian
$$\hat{H} = - \frac{\hbar^2}{2m_e} \Big(\nabla_1^2 + \nabla^2_2\Big) + \frac{e^2}{4\pi\varepsilon_0|\mathbf{r}_1 - \mathbf{r}_2|}.$$ \label{ex:2}

\item
  An $N$-boson state can be written as
$$|\phi_1,\phi_2,\dots,\phi_N\rangle = \mathcal{N} \sum_p \Big(|\phi_{p(1)}\rangle  |\phi_{p(2)}\rangle  |\phi_{p(3)}\rangle  \cdots  |\phi_{p(N)}\rangle\Big).$$
  Prove that the normalization constant is
$$\mathcal{N} = \sqrt{\frac{n_a!n_b!\cdots}{N!}},$$
  where $n_\mu$ denotes the number of particles in state $\mu$.
  \label{ex:boson_norm}

\item
  Prove that for boson creation and annihilation operators, $[\hat{a}_\mu,\hat{a}_\nu] = [\hat{a}_\mu^\dagger,\hat{a}_\nu^\dagger] = 0$.
  \label{ex:boson_commutators}

\item
  Let $\hat{A}_1$ be an observable (Hermitian operator) for
  single-particle states.  Given a single-particle basis
  $\{|\varphi_1\rangle,|\varphi_2\rangle,\dots\}$, define the
  bosonic multi-particle observable
  $$\hat{A} = \sum_{\mu\nu} \,a^\dagger_\mu \; \langle\varphi_\mu|\hat{A}_1|\varphi_\nu\rangle \; a_\nu,$$
  where $a_\mu^\dagger$ and $a_\mu$ are creation and annihilation
  operators satisfying the usual bosonic commutation relations,
  $[a_\mu,a_\nu] = 0$ and $[a_\mu,a_\nu^\dagger] = \delta_{\mu\nu}$.
  Prove that $\hat{A}$ commutes with the total number operator:
  $$\Big[\hat{A}, \sum_\mu a^\dagger_\mu a_\mu \Big] = 0.$$
  Next, repeat the proof for a fermionic multi-particle observable
  $$\hat{A} = \sum_{\mu\nu} \,c^\dagger_\mu \; \langle\varphi_\mu|\hat{A}_1|\varphi_\nu\rangle \; c_\nu,$$
  where $c_\mu^\dagger$ and $c_\mu$ are creation and annihilation
  operators satisfying the fermionic anticommutation relations,
  $\{c_\mu,c_\nu\} = 0$ and $\{c_\mu,c_\nu^\dagger\} = \delta_{\mu\nu}$.
  In this case, prove that
  $$\Big[\hat{A}, \sum_\mu c^\dagger_\mu c_\mu \Big] = 0.$$
  \label{ex:n_conserved}

\end{enumerate}

\section*{Further Reading}

\begin{enumerate}[[1{]}]
\item Bransden \& Joachain, \S10.1--10.5

\item Sakurai, \S6

\item F.~Wilczek, \textit{The Persistence of Ether}, Physics Today
  \textbf{52}, 11 (1999).
\label{cite:wilczek}
\end{enumerate}

\end{document}


%% For decades after the discovery of quantum mechanics, the quantum
%% double-slit experiment was just a ``thought experiment'', meant to
%% illustrate the features of quantum mechanics that had been uncovered
%% by other, more complicated experiments.  Nowadays, the most convenient
%% way to do the experiment is with light, using single-photon sources
%% and single-photon detectors.  Quantum interference has also been
%% demonstrated experimentally using electrons, neutrons, and even
%% large-scale particles such as buckyballs.
